#!/bin/tcsh

set VERILATOR_INCLUDES=" -I${TOP_PATH}/ips/axi/axi_node -I${TOP_PATH}/ips/axi/axi_node/.  -I${TOP_PATH}/ips/apb/apb_node  -I${TOP_PATH}/ips/axi/axi_mem_if_DP  -I${TOP_PATH}/ips/axi/axi_spi_slave  -I${TOP_PATH}/ips/axi/axi_spi_master  -I${TOP_PATH}/ips/apb/apb_uart_sv  -I${TOP_PATH}/ips/apb/apb_gpio  -I${TOP_PATH}/ips/apb/apb_event_unit -I${TOP_PATH}/ips/apb/apb_event_unit/./include/  -I${TOP_PATH}/ips/apb/apb_spi_master  -I${TOP_PATH}/ips/fpu -I${TOP_PATH}/ips/fpu/.  -I${TOP_PATH}/ips/apb/apb_pulpino  -I${TOP_PATH}/ips/apb/apb_fll_if  -I${TOP_PATH}/ips/axi/core2axi  -I${TOP_PATH}/ips/apb/apb_timer  -I${TOP_PATH}/ips/axi/axi2apb  -I${TOP_PATH}/ips/apb/apb_i2c -I${TOP_PATH}/ips/apb/apb_i2c/.  -I${TOP_PATH}/ips/zero-riscy -I${TOP_PATH}/ips/zero-riscy/include  -I${TOP_PATH}/ips/axi/axi_slice_dc  -I${TOP_PATH}/ips/riscv -I${TOP_PATH}/ips/riscv/include -I${TOP_PATH}/ips/riscv/../../rtl/includes -I${TOP_PATH}/ips/riscv  -I${TOP_PATH}/ips/apb/apb_uart  -I${TOP_PATH}/ips/axi/axi_slice  -I${TOP_PATH}/ips/adv_dbg_if -I${TOP_PATH}/ips/adv_dbg_if/rtl  -I${TOP_PATH}/ips/apb/apb2per " 

verilator +1800-2012ext+ --trace -CFLAGS -std=c++0x -cc --Mdir verilator_libs -Wno-fatal ${TOP_PATH}/tb/tb_verilator.sv --exe ${TOP_PATH}/tb/tb.cpp ${TOP_PATH}/tb/pulpino.cpp -v ${TOP_PATH}/ips/riscv/include/riscv_defines.sv ${TOP_PATH}/ips/riscv/include/apu_core_package.sv -I${TOP_PATH}/rtl/includes -I${TOP_PATH}/rtl -I${TOP_PATH}/rtl/components $VERILATOR_INCLUDES

